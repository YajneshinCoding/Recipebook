

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ item.title }}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static "item.css" %}">

</head>
<style>
    body{
        background: linear-gradient(232deg, #da06f4 0%, #09ce44 100%);
    }
    .container{
        {% comment %} background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
        background-color: #ff9a9e; {% endcomment %}
        background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    }
    .try {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 30px;
        padding: 20px;
        background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    
    .try > p {
        grid-column: 1 / -1;
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        color: #5a3f37;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 2px;
        position: relative;
    }
    
    .try > p::after {
        content: '';
        display: block;
        width: 50px;
        height: 3px;
        background-color: #ff9a9e;
        margin: 10px auto 0;
    }
    
    .try .category {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        padding: 15px;
        height: 200px;
    }
    
    .try .category:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 12px rgba(255, 154, 158, 0.4);
    }
    
    .try .category a {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        text-decoration: none;
        height: 100%;
        justify-content: space-between;
    }
    
    .try .category img {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: 50%;
        margin: 0 auto;
        display: block;
        box-shadow: 0 2px 4px rgba(90, 63, 55, 0.2);
    }
    
    .try .category:hover img {
        transform: scale(1.05);
    }
    
    .try .category h3 {
        font-size: 18px;
        font-weight: 600;
        color: #5a3f37;
        margin-top: 15px;
        text-align: center;
        line-height: 1.4;
        text-transform: capitalize;
        background-color: rgba(255, 154, 158, 0.1);
        padding: 8px;
        border-radius: 6px;
        width: 100%;
        box-sizing: border-box;
    }
    
        .comments-section {
            background: #fdfbfb;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            background: linear-gradient(232deg, #12a81d 0%, #933b20 100%);
        }
    
        .comments-section h2 {
            font-size: 24px;
            color: #5a3f37;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(232deg, #658067 0%, #e4dfde 100%);
            
        }
    
        .comment {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    
        .rating {
            direction: rtl;
            unicode-bidi: bidi-override;
            display: inline-flex;
        }
    
        .rating input[type="radio"] {
            display: none;
        }
    
        .rating label {
            font-size: 25px;
            color: #ccc;
            cursor: pointer;
            transition: color 0.3s ease;
        }
    
        .rating input[type="radio"]:checked ~ label {
            color: #ffc107;
        }
    
        .rating label:hover,
        .rating label:hover ~ label {
            color: #ffde59;
        }

        form{
            {% comment %} background: linear-gradient(232deg, #658067 0%, #e4dfde 100%); {% endcomment %}
        }
    
        form label {
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
            color: #3eff83;
            font-size:30px
        }
    
        form textarea {
            width: 90%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        }
    
        form button {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #5a3f37;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease;
        }
    
        form button:hover {
            background: linear-gradient(135deg, #fed6e3 0%, #a8edea 100%);
        }
        .stars {
            display: inline-flex;
            font-size: 18px;
        }
    
        .star {
            color: #ccc; /* Unfilled star color */
        }
    
        .star.filled {
            color: #ffc107; /* Filled star color */
        }
    
    
{% comment %}     
    @media (max-width: 768px) {
        .try {
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            padding: 15px;
        }
    
        .try > p {
            font-size: 20px;
        }
    
        .try .category img {
            height: 80px;
            width: 80px;
        }
    
        .try .category h3 {
            font-size: 16px;
        }
    }
    
    @media (max-width: 480px) {
        .try {
            grid-template-columns: 1fr;
        }
    
        .try > p {
            font-size: 18px;
        }
    } {% endcomment %}
</style>
<body>
    <div class="container">
        <h1>{{ product.title }}</h1>
        <img src="/media/{{ product.image }}" style="width: 300px; height: 300px;">
       
        <strong>Ingredients:</strong>
             
             <ul>
                {% for ingredients in product.ingredients %}
                    <li>{{ ingredients }}</li>
                {% endfor %}
            </ul>
            </p>
        <p><strong>Instructions:</strong> 
            
            <ul>
                {% for instruction in product.instructions %}
                    <li>{{ instruction }}</li>
                {% endfor %}
            </ul></p>
        <p><strong>Time:</strong> {{ product.time }}min</p>
        <p><strong>Dish:</strong> {{ product.dish }}</p>
        {% load static %}
                            <div style="display: flex;flex-wrap: wrap;">
                            <img src="{% static "p.jpg" %}" style="margin:0px;height:50px;width:50px;border-radius:100px;">&nbsp
                            <p><strong>
                                <a href="{% url 'user_recipes' user_id=product.created_by.id %}">{{ product.created_by.username }}</a>
                            </strong></p></div>
        {% comment %} <p><strong>Creator:</strong> {{ product.created_by.username }}</p> {% endcomment %}
        <a href="{% url 'new' %}" class="back-link">Back to home</a>
    </div>
    <div class="try">
        <p>TRY THIS OUT!</p>
    {% for it in itss %}


                <div class="category" >
                    
                    
                    <a href="{% url 'product_detail' product_id=it.id %}">
                        <img src="{{it.image}}" class="category-image" style="height:100px;width:100px">
                    </a>
                    <h3>{{ it.title }}</h3></div>
                    {% endfor %}
                </div>
                <div class="comments-section">
                    <h2>Ratings and Comments</h2>
                    {% for comment in comments %}
                        {% comment %} <div class="comment">
                            <p><strong>{{ comment.user.username }}</strong> (Rating: {{ comment.rating }}/5)</p>
                            <p>{{ comment.text }}</p>
                            <p><em>Posted on {{ comment.created_at|date:"F j, Y, g:i a" }}</em></p>
                        </div>
                        <hr>
                    {% empty %}
                        <p>No comments yet. Be the first to comment!</p> {% endcomment %}


                        <div class="comment">
                            {% load static %}
                            <div style="display: flex;flex-wrap: wrap;">
                            <img src="{% static "p.jpg" %}" style="margin:0px;height:50px;width:50px;border-radius:100px;">&nbsp
                            <p><strong>{{ comment.user.username }}</strong></p></div>
                            <p>
                                Rating:
                                <span class="stars">
                                    {% for i in "12345" %}
                                        {% if forloop.counter <= comment.rating %}
                                            <span class="star filled">★</span>
                                        {% else %}
                                            <span class="star">★</span>
                                        {% endif %}
                                    {% endfor %}
                                </span>
                            </p>
                            <p>{{ comment.text }}</p>
                            <p><em>Posted on {{ comment.created_at|date:"F j, Y, g:i a" }}</em></p>
                        </div>
                        <hr>
                    {% empty %}
                        <p>No comments yet. Be the first to comment!</p>
                    {% endfor %}
                
                    {% if user.is_authenticated %}
                        <h3>Leave a Comment</h3>
                        <form method="POST">
                            {% csrf_token %}
                            <label for="text">Comment:</label><br>
                            <textarea id="text" name="text" rows="4" cols="50" placeholder="Write your comment here..."></textarea><br><br>
                
                            <label for="rating">Rating (1-5):</label><br>
                            <div class="rating">
                                <input type="radio" id="star5" name="rating" value="5"><label for="star5" title="5 stars">☆</label>
                                <input type="radio" id="star4" name="rating" value="4"><label for="star4" title="4 stars">☆</label>
                                <input type="radio" id="star3" name="rating" value="3"><label for="star3" title="3 stars">☆</label>
                                <input type="radio" id="star2" name="rating" value="2"><label for="star2" title="2 stars">☆</label>
                                <input type="radio" id="star1" name="rating" value="1"><label for="star1" title="1 star">☆</label>
                            </div><br><br>
                
                            <button type="submit">Submit</button>
                        </form>
                    {% else %}
                        <p>You need to <a href="{% url 'login' %}">log in</a> to leave a comment.</p>
                    {% endif %}
                </div>
                
</body>
</html>

